<div class="personnel-edit edit-equipment">
    <div class="filter-header">
        <div class="container-fluid pad-0">
            <h1 class="title"> {{ selectedPersonnel && selectedPersonnel.firstName}} {{ selectedPersonnel && selectedPersonnel.lastName}}
            </h1>
            <div class="filter">

                <div class="filter-search">
                    <input type="text" [(ngModel)]="searchText" class="input-search" placeholder="Search...">
                    <i class="fa fa-search"></i>

                    <a href="javascript:void(0)" id="filter-id" (click)="isfiterClicked = !isfiterClicked">
                        {{'Filter by' | translate}}
                        <i class="fa fa-sliders"></i>
                    </a>

                    <!-- <a href="javascript:void(0)" id="sort-id" (click)="isSortByClicked =!isSortByClicked">
                Sort by
                <i class="fa fa-sort"></i>
              </a> -->

                    <a *ngIf="isHumanResource" href="javascript:void(0)" class="ml-5" (click)="showModal =(!showModal)">
                        <i class="fa fa-plus"></i> {{'Add' | translate}}
                        <!-- <button class="btn btn-first ripple" type="button" (click)="showModal =(!showModal)">Add New Content</button> -->

                    </a>

                </div>

                <div class="filter-box" id="filter-id" [ngClass]="!isfiterClicked ? 'hide':''">
                    <div class="arrow"></div>

                    <div class="filter-row" id="filter-id" [ngClass]="!isFilterByReelClicked?'collapse-ul':''">

                        <h4 class="title4" (click)="isFilterByReelClicked =!isFilterByReelClicked">{{'Reel' | translate}}
                            <i class="fa fa-angle-down"></i>
                        </h4>
                        <ul class="chk-list ">

                            <li *ngFor="let reelCheckBox of reelCheckBoxList;let reelIndex = index">
                                <div class="checkbox">
                                    <input type="checkbox" id={{reelCheckBox.label}}{{reelIndex}} (click)="addSelectedReelCheckbox(reelCheckBox)">
                                    <label for={{reelCheckBox.label}}{{reelIndex}} class="chk"></label>
                                    <label for={{reelCheckBox.label}}{{reelIndex}}>{{reelCheckBox.label}}</label>
                                </div>
                            </li>

                        </ul>
                    </div>

                    <div class="filter-row" id="filter-id" [ngClass]="!isFilterByPhotoClicked?'collapse-ul':''">
                        <h4 class="title4" (click)="isFilterByPhotoClicked =!isFilterByPhotoClicked">{{'Photo' | translate}}
                            <i class="fa fa-angle-down"></i>
                        </h4>
                        <ul class="chk-list ">

                            <li *ngFor="let photoCheckBox of photoCheckBoxList;let photoIndex =index">
                                <div class="checkbox">
                                    <input type="checkbox" id={{photoCheckBox.label}}{{photoIndex}} (click)='addSelectedPhotoCheckbox(photoCheckBox)'>
                                    <label for={{photoCheckBox.label}}{{photoIndex}} class="chk"></label>
                                    <label for={{photoCheckBox.label}}{{photoIndex}}>{{photoCheckBox.label}}</label>
                                </div>
                            </li>
                        </ul>
                    </div>

                    <div class="filter-row" id="filter-id" [ngClass]="!isFilterByResumeClicked?'collapse-ul':''">

                        <h4 class="title4" (click)="isFilterByResumeClicked =!isFilterByResumeClicked">{{'Resume' | translate}}
                            <i class="fa fa-angle-down"></i>
                        </h4>
                        <ul class="chk-list ">

                            <li *ngFor="let resumeCheckBox of resumeCheckBoxList;let resumeIndex = index">
                                <div class="checkbox">
                                    <input type="checkbox" id={{resumeCheckBox.label}}{{resumeIndex}} (click)="addSelectedResumeCheckbox(resumeCheckBox)">
                                    <label for={{resumeCheckBox.label}}{{resumeIndex}} class="chk"></label>
                                    <label for={{resumeCheckBox.label}}{{resumeIndex}}>{{resumeCheckBox.label}}</label>
                                </div>
                            </li>

                        </ul>
                    </div>

                    <div class="filter-row" id="filter-id" [ngClass]="!isFilterByBioClicked?'collapse-ul':''">

                        <h4 class="title4" (click)="isFilterByBioClicked =!isFilterByBioClicked">{{'Bio' | translate}}
                            <i class="fa fa-angle-down"></i>
                        </h4>
                        <ul class="chk-list ">

                            <li *ngFor="let bioCheckBox of bioCheckBoxList;let bioIndex = index">
                                <div class="checkbox">
                                    <input type="checkbox" id={{bioCheckBox.label}}{{bioIndex}} (click)="addSelectedBioCheckbox(bioCheckBox)">
                                    <label for={{bioCheckBox.label}}{{bioIndex}} class="chk"></label>
                                    <label for={{bioCheckBox.label}}{{bioIndex}}>{{bioCheckBox.label}}</label>
                                </div>
                            </li>

                        </ul>
                    </div>

                    <div class="filter-row" id="filter-id" [ngClass]="!isFilterByPressClicked?'collapse-ul':''">

                        <h4 class="title4" (click)="isFilterByPressClicked =!isFilterByPressClicked">{{'Press' | translate}}
                            <i class="fa fa-angle-down"></i>
                        </h4>
                        <ul class="chk-list ">

                            <li *ngFor="let pressCheckBox of pressCheckBoxList;let pressIndex = index">
                                <div class="checkbox">
                                    <input type="checkbox" id={{pressCheckBox.label}}{{pressIndex}} (click)="addSelectedPressCheckbox(pressCheckBox)">
                                    <label for={{pressCheckBox.label}}{{pressIndex}} class="chk"></label>
                                    <label for={{pressCheckBox.label}}{{pressIndex}}>{{pressCheckBox.label}}</label>
                                </div>
                            </li>

                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="inner-content">
        <div class="row">
            <!-- <div class="col-md-5">
              <h4 class="">John Artwood</h4>
          </div> -->
            <!-- <div class="col-md-12">
                <button class="btn btn-first ripple" type="button" (click)="showModal =(!showModal)">Add New Content</button>
            </div> -->
        </div>

        <div class="row">
            <div class="col-md-10 col-lg-offset-1">
                <div class="col-lg-7">
                    <div class="grid">
                        <div class="grid-body">
                            <div class="table-responsive">
                                <table class="table common-Table showAllReels">
                                    <thead>
                                        <tr>
                                            <th colspan="">{{'Show Reel' | translate}}</th>
                                            <th class="filter-slider">
                                                <a href="javascript:void(0)" id="filter-id"> </a>
                                            </th>
                                            <th></th>
                                        </tr>
                                    </thead>
                                    <tbody *ngFor="let reel of reelList |reelFilter: searchList: selectedReelCheckBoxList:selectedPhotoCheckBoxList:selectedResumeCheckBoxList:selectedBioCheckBoxList:selectedPressCheckBoxList|equipmentSearch:searchText:searchList|globalSort:sortBy:sortValue;let reelIndex = index">
                                        <tr (click)="clickEvent(reel)" (click)="activeReelIndex=reelIndex" [ngClass]="{'active':activeReelIndex==reelIndex}">
                                            <td>
                                                <div class="reelText">
                                                    <div class="reelsTdImg">
                                                        <img *ngIf="reel.type ==='Photo'" src="../../assets/img/image_icon.png" class="img-responsive" alt="" />
                                                        <img *ngIf="reel.type ==='Resume'" src="../../assets/img/pdf_logo.jpg" class="img-responsive" alt="" />
                                                        <img *ngIf="reel.type ==='Reel'" src="../../assets/img/vdo_logo.png" class="img-responsive" alt="" />
                                                        <img *ngIf="reel.type ==='Press'" src="../../assets/img/press_logo.png" class="img-responsive" alt="" />
                                                        <img *ngIf="reel.type ==='Bio'" src="../../assets/img/schedule.png" class="img-responsive" alt="" />
                                                    </div> {{reel.title}}
                                                </div>
                                            </td>
                                            <td>{{reel.type}}</td>
                                            <td  (click)="deleteReel(reel)">
                                                <i *ngIf="isHumanResource" class="fa fa-trash" aria-hidden="true"></i>
                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="col-lg-5">
                    <!-- ATTACHMENT PANEL -->
                    <div class="grid">
                        <div class="grid-header"> {{selectedReel!=null && selectedReel.title!=null?selectedReel.title:'Document Viewer Pane'}}</div>
                        <div class="commonShowReels-div" *ngIf="selectedReel !=null">

                            <div *ngIf="fileExtension==='pdf'" class='embed-responsive' style='padding-bottom:100%'>
                                <object [data]="fileCleanUrl" type="application/pdf" id="pdfObj" target="_parent" width="320" height="240">
                                </object>
                            </div>

                            <div *ngIf="fileExtension==='pdf'" style="text-align:center; text-emphasis-color: red">
                                <a [href]="fileCleanUrl" target="_blank">{{'View PDF' | translate}}</a>         
                            </div>

                            <div *ngIf="fileExtension==='jpg' || fileExtension==='jpeg' || fileExtension==='png'" class='embed-responsive' style='padding-bottom:100%'>
                                <img [src]="fileUrl" class="" alt="" style="width:100%;height:100%;"/>
                            </div>

                            <div *ngIf="selectedReel.type!='Reel' && fileExtension!=null && fileExtension!='jpg' && fileExtension!='jpeg' && fileExtension!='png' && fileExtension!='pdf'"
                                class='embed-responsive' style='padding-bottom:100%'>
                                <a [href]="fileUrl" target="_blank">
                                    <img src="../../assets/img/view_logo.png" style="width:100%;height:100%;"/>
                                </a>
                            </div>

                            <div *ngIf="selectedReel.type==='Reel'" class='embed-responsive' style='padding-bottom:100%'>
                                <video *ngIf='localVideo' width="320" height="240" controls>
                                    <source [src]="localVideo" type="video/mp4">
                                </video>
                                <div *ngIf='iframe_html' [innerHtml]="iframe_html" width="320" height="240">
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

    </div>
</div>


<!-- Modal Start -->

<div id="myModal" class="modal in fade add-new-content-modal" role="dialog" style="display: block;" *ngIf="showModal">

    <div class="modal-dialog  modal-md">
        <form [formGroup]="reelForm">
            <!-- Modal content-->
            <div class="modal-content" formGroupName="attachment">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="true" (click)="showModal=(!showModal)">&times;</button>
                    <h4 class="title">{{'Add New content' | translate}}</h4>

                </div>
                <div class="modal-body">
                    <div class="inner-content pad-20">
                        <!-- Add New Content  -->
                        <div class="grid">
                            <!-- <div class="grid-header">Add New Content</div> -->
                            <div class="grid-body">
                                <div class="mt-20">
                                    <div class="row">
                                        <div class="col-md-6">
                                            <div class="form-group">
                                                <label>{{'Attachment Type' | translate}}</label>
                                                <select class="form-control" formControlName="attachmentType">
                                                    <option>{{'Photo' | translate}}</option>
                                                    <option>{{'Resume' | translate}}</option>
                                                    <option>{{'Reel' | translate}}</option>
                                                    <option>{{'Bio' | translate}}</option>
                                                    <option>{{'Press' | translate}}</option>
                                                </select>
                                            </div>
                                        </div>
                                        <div class="col-md-6">
                                            <div class="form-group">
                                                <label>{{'Attachment Title' | translate}}</label>
                                                <input type="text" class="form-control" placeholder="Attachment title" formControlName="attachmentTitle">
                                            </div>
                                        </div>
                                    </div>
                                    <div class="form-group">
                                        <label>{{'Discription' | translate}}</label>
                                        <textarea class="form-control" cols="30" id="" name="" placeholder="Write here" rows="6" formControlName="discription">{{'Bio' | translate}}</textarea>
                                    </div>
                                    <!-- attachment-content -->
                                    <div class="form-content">
                                        <label>{{'Attachment' | translate}}</label>
                                        <div class="attachment-content">
                                            <i class="fa fa-upload"></i>
                                            <label for="">{{'Drag Here' | translate}}</label>
                                            <label for="">{{'or Browse your computer' | translate}}</label>
                                            <input type="file" class="fileType" [disabled]="reelForm.get('attachment').get('validate').value" (change)="onFileChange($event)">
                                        </div>
                                        <span *ngIf="invalidReelFormatError" style="color: #a94442;text-align: left;font-size: 14px;margin-top: 5pt;">{{invalidReelFormatError}}</span>

                                        <p class="or"></p>
                                        <div class="checkbox">
                                            <input type="checkbox" id="a1" formControlName="validate" value="1">                                            <label class="chk" for="a1"></label>
                                            <label for="a1">Urls:</label>
                                        </div>
                                        <div class="form-group">
                                            <input type="text" class="form-control" formControlName="url" placeholder="Enter URL" />
                                            <p *ngIf="this.reelForm.get('attachment').get('validate').value" class="text-danger">Enter valid url with http/https</p>
                                        </div>
                                        
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <div class="button-set text-center">
                        <button type="submit" class="btn btn-first " [disabled]="reelForm.get('attachment').invalid" (click)="saveReel()">{{'Add' | translate}}</button>
                    </div>
                </div>
            </div>
        </form>
    </div>

</div>


<!-- FILE/VIDEO/IMAGE TAG MODAL -->
<!-- <div id="myModal" class="modal in fade add-new-content-modal" role="dialog" style="display: block;" *ngIf="showViwerModal">

    <div class="modal-dialog  modal-lg">

     
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="true" (click)="showViwerModal=(!showViwerModal)">&times;</button>
              
            </div>
            <div class="modal-body">
                <div class="inner-content">
                    <div class="grid">
                        <div class="grid-body">

                            <div *ngIf="fileExtension==='pdf' || selectedReel.type==='Resume'" class=''>
                                <object data="fileCleanUrl" type="application/pdf" id="pdfObj" width="320" height="240"
                                    style="width:100%;height:500px;">
                                </object>
                            </div>

                            <div *ngIf="fileExtension==='jpg' || fileExtension==='jpeg' || fileExtension==='png' || selectedReel.type==='Photo'" class=''>
                                <img [src]="fileUrl" class="img-responsive" alt="" width="320" height="240" style="width:100%;height:500px;" />
                            </div>

                            <div *ngIf="fileExtension==='mp4' || selectedReel.type==='Reel'" class=''>
                                <video width="320" height="240" controls style="width:100%;height:500px;">
                                    <source [src]="vdoSrc" type="video/mp4">
                                </video>
                            </div>

                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div> -->